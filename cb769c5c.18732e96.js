(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{124:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return i})),n.d(t,"rightToc",(function(){return u})),n.d(t,"default",(function(){return p}));var a=n(2),r=n(7),o=(n(0),n(135)),s=n(157),c=n(154),l={title:"Authentication"},i={id:"auth",title:"Authentication",description:"Create an account",source:"@site/docs/auth.md",permalink:"/docs/docs/auth",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/auth.md",sidebar:"docs",previous:{title:"Introduction",permalink:"/docs/docs/intro"},next:{title:"Satellite",permalink:"/docs/docs/satellite"}},u=[{value:"Create an account",id:"create-an-account",children:[]}],b={rightToc:u};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"create-an-account"},"Create an account"),Object(o.b)("p",null,"To access our API, you just have to register using this ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://leafagriculture.com.br/registration/"}),"link"),"."),Object(o.b)("p",null,"After confirming your email, you will be able to request an access token through this endpoint:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{}),"https://a.agrigate.io/api/authenticate\n")),Object(o.b)("p",null,"You will receive an access token as response."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"All set!")," Include this token in your calls and you will have access to Leaf's API."),Object(o.b)("p",null,"The token lasts for 8h.\nAfter that, just make the same request to the same endpoint and you will get a new access token."),Object(o.b)(s.a,{defaultValue:"js",values:[{label:"JavaScript",value:"js"},{label:"Python",value:"py"},{label:"Bash",value:"sh"}],mdxType:"Tabs"},Object(o.b)(c.a,{value:"js",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"var request = require('request');\n\nvar headers = {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n};\n\nvar dataString = `{\n  \"username\": \"YOUR_EMAIL\",\n  \"password\": \"YOUR_PASSWORD\",\n  \"rememberMe\": true\n}`;\n\nvar options = {\n    url: 'https://a.agrigate.io/api/authenticate',\n    method: 'POST',\n    headers: headers,\n    body: dataString\n};\n\nfunction callback(error, response, body) {\n    if (!error && response.statusCode == 200) {\n      console.log('[Success] Server responded with:', body);\n    } else {\n      console.log('[Error] Server responded with:', body);\n    }\n}\n\nrequest(options, callback);\n"))),Object(o.b)(c.a,{value:"py",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nendpoint = 'https://a.agrigate.io/api/authenticate'\n\njson = {\n    'username' : 'YOUR_EMAIL',\n    'password' : 'YOUR_PASSWORD',\n    'rememberMe' : 'true'\n}\n\nres = requests.post(endpoint, json=json)\nprint(res.json())\n"))),Object(o.b)(c.a,{value:"sh",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST \\\n--header \'Content-Type: application/json\' \\\n--header \'Accept: application/json\' \\\n-d \\\n\'{\n  "username": "YOUR_EMAIL",\n  "password": "YOUR_PASSWORD",\n  "rememberMe": true\n }\' \\\n\'https://a.agrigate.io/api/authenticate\'\n')))),Object(o.b)("p",null,"This request will return your access token to Leaf's API:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id_token" : "YOUR_TOKEN"\n}\n')))}p.isMDXComponent=!0},154:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(e){return r.a.createElement("div",null,e.children)}},157:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(151);var s=function(){return Object(a.useContext)(o.a)},c=n(133),l=n.n(c),i=n(95),u=n.n(i);const b=37,p=39;t.a=function(e){const{block:t,children:n,defaultValue:o,values:c,groupId:i}=e,{tabGroupChoices:d,setTabGroupChoices:m}=s(),[h,j]=Object(a.useState)(o);if(null!=i){const e=d[i];null!=e&&e!==h&&j(e)}const O=e=>{j(e),null!=i&&m(i,e)},f=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:l()("tabs",{"tabs--block":t})},c.map(({value:e,label:t})=>r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":h===e,className:l()("tabs__item",u.a.tabItem,{"tabs__item--active":h===e}),key:e,ref:e=>f.push(e),onKeyDown:e=>((e,t,n)=>{switch(n.keyCode){case p:((e,t)=>{const n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()})(e,t);break;case b:((e,t)=>{const n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,t)}})(f,e.target,e),onFocus:()=>O(e),onClick:()=>O(e)},t))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(n).filter(e=>e.props.value===h)[0]))}}}]);